<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js" integrity="sha512-NxocnqsXP3zm0Xb42zqVMvjQIktKEpTIbCXXyhBPxqGZHqhcOXHs4pXI/GoZ8lE+2NJONRifuBpi9DxC58L0Lw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>WEBSOCKET</title>
</head>
<body onkeydown="draw(event)">
<!-- <p id="ID">WebSockets and that</p> -->
<script>

const socket = io.connect('wss://pinky.uk.to:5000');

let socketid

function setup(){
  createCanvas(800,800)
}

function mouseMoved(){
    let data = {
        x: mouseX,
        y: mouseY,
        id: socketid
    }
    socket.emit('cords', data)
}

function draw(event) {
  background(200);
  rectMode(CENTER);
  rect(100, 100, 20, 20);
  if(event.key === "w"){
    translate(10,0);
  }
}

// socket.on('ID', getsocidnstuff)
socket.on('list', listout)
socket.on('newcords', newcords)

function newcords(data){
    console.log(data)
}


function listout(data){
   socketid = data
}

// function getsocidnstuff(data){
//     document.getElementById('ID').innerHTML = data
// }
</script>
</body>
</html>