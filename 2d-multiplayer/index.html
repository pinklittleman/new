<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js" integrity="sha512-NxocnqsXP3zm0Xb42zqVMvjQIktKEpTIbCXXyhBPxqGZHqhcOXHs4pXI/GoZ8lE+2NJONRifuBpi9DxC58L0Lw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>WEBSOCKET</title>
</head>
<body>
<!-- <p id="ID">WebSockets and that</p> -->
<script>

const socket = io.connect('wss://pinky.uk.to:5000');

let test = []

let socketid

function setup(){
  createCanvas(800,800)
}

function mouseDragged(){
    let data = {
        x: mouseX,
        y: mouseY,
        id: socketid,
    }
    // send the cords to the server 
    socket.emit('cords', data)
    // setTimeout(() => {
    //     console.log(data2)
    // }, 2000);
    test.push(data)
    noStroke()
    fill(2,255,0)
    ellipse(data.x,data.y,20,20)
}

function draw() {
  background(50);  
}

// socket.on('ID', getsocidnstuff)
socket.on('list', listout)
socket.on('newcords', newcords)

function newcords(data){
    console.log(data)
}


function listout(data){
   socketid = data
}

// function getsocidnstuff(data){
//     document.getElementById('ID').innerHTML = data
// }
</script>
</body>
</html>