<body onkeydown="myFunction(event)"></body>
<h2 id="message2"></h2>
<style>

canvas{
    float: left;
}

#users{
    text-align: center;
}

.insideusr{
    text-align: center;
}

.users{
    background-color: rgb(247, 181, 181);
    color: black;
    display: block;
    padding: 12px;
    text-decoration: none;
    float: right;
    width: 200px;
}

.container{
    float: right;
    padding-right: 700px;
    padding-left: 100px;
}

.vertical-menu {
  width: 220px;
}

.vertical-menu p {
  background-color: #b0ffd1;
  color: black;
  display: block;
  padding: 1px;
  text-decoration: none;
  text-align: center;
  margin: 0%;
}

#message2{
    position: absolute;
    font-size: small;
    color: #d8d8d8;
}

.vertical-menu p.active{
    background-color: #2bff83;
}
    
</style>
<div class="container">
    <div class="vertical-menu">
        <p >Users:</p>
        <p class="active" id="list1">1</p>
        <p id="list2">2</p>
        <p id="list3">3</p>
        <p id="list4">4</p>
    </div>
</div>
<div class="users">
    <p class="insideusr">current users:</p>
    <p id="users">null</p>
</div>
<script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js" integrity="sha512-NxocnqsXP3zm0Xb42zqVMvjQIktKEpTIbCXXyhBPxqGZHqhcOXHs4pXI/GoZ8lE+2NJONRifuBpi9DxC58L0Lw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
//listen for the socket on port 5000
socket = io.connect('http://pinky.uk.to:5000')
//when the socket recives 'hello' from the server the executes the function newinstance
socket.on('hello', newinstance)
socket.on('newcords', newdraw)
socket.on('userarray', lengtharr)
socket.on('userarrayimp', users)
//just logg the data from the server

let user = []
let temp



function users(data){
    user = data
    // console.log(user)
    var num1 = user.slice(0,1)
    var num2 = user.slice(1,2)
    var num3 = user.slice(2,3)
    var num4 = user.slice(3,4)
    // console.log('num1: '+num1)
    document.getElementById('list1').innerHTML = num1
    document.getElementById('list2').innerHTML = num2
    document.getElementById('list3').innerHTML = num3
    document.getElementById('list4').innerHTML = num4
}

function lengtharr(data){
    // console.log(data)
    document.getElementById('users').innerHTML = data
}

function newinstance(data){
    console.log(data)
}
//setup the canvas with borders and size
function setup(){
    createCanvas(500,500)
    background(50)
}
// when the mouse is dragged across the screen get the x and y cords
function mouseDragged(){
    var data = {
        x: mouseX,
        y: mouseY,
        id: socket.id,
    }
    // send the cords to the server 
    socket.emit('cordinates', data)
    noStroke()
    fill(2,255,0)
    ellipse(data.x,data.y,10,10)
}

function newdraw(data){
    noStroke()
    fill(255,255,0)
    ellipse(data.x,data.y,10,10)
    var element = document.getElementById('message2')
    element.style.left = data.x + 2 + "px";
    element.style.top = data.y + 2 + "px";
    document.getElementById('message2').innerHTML = data.id
}

function myFunction(event){
    if(event.key === " "){
        console.log('pressed')
        console.log('<body>hello</body>')
    }
}

</script>